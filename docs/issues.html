<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Known issues - Shadow Linux Community</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

		<link rel="icon" type="image/png" href="images/logo.png" />

		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/custom.css" />
		<link rel="stylesheet" href="assets/css/styles/color-brewer.css">

		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<h1>Shadow tweaks</h1>
						<p>The Linux community for <a href="https://shadow.tech/" target="_blank">Shadow</a>.</p>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li><a href="./#appimage">AppImage</a></li>
							<li><a href="./#vainfo">Setup your GPU</a></li>
							<li><a href="#" class="active">Known issues</a></li>
							<li><a href="tweaks.html">Tweaks</a></li>
							<li><a href="https://github.com/NicolasGuilloux/blade-shadow-beta" target="_blank">Our work on Github</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Introduction -->
							<section id="intro" class="main special">
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Known issues</h2>
										</header>
										<p>
											Especially on Linux, there are a lot of issues. This page describes well known issues, what is the cause and how to fix them when a workaround is available.
										</p>

										<ul style="list-style-type: none;">
											<li><a href="#gamepad" class="scrolly">The application does not detect my gamepad</a></li>
											<li><a href="#mouse" class="scrolly">The mouse cursor disappear in Fullscreen mode</a></li>
											<li><a href="#nvidia" class="scrolly">The NVIDIA issue and workaround for Optimus</a></li>
											<li><a href="#compositing" class="scrolly">The application makes my environment jerky and all transparent component opaque</a></li>
											<li><a href="#drirc" class="scrolly">The stream is colored or not sharp with an AMD card</a></li>
											<li><a href="#intel-init" class="scrolly">The stream is half rendered or freezes the computer</a></li>
											<li><a href="#sandbox" class="scrolly">The application does not start at all</a></li>
										</ul>
									</div>
								</div>
							</section>

						<!-- Application Issues -->
							<section class="main" id="gamepad">
								<div class="content">
									<header class="major">
										<h2>The application does not detect my gamepad</h2>
									</header>
									<p>
										Some gamepads are sometimes badly recognized by the Shadow app. As the developer team <b>needs</b> to know which gamepads are badly recognized, please send us a message on Discord and mention the brand and reference of your device so we can transfer this to the developpers.
									</p>

									<p>
										As a workaround if your gamepad is plugged via USB, you can use <a href="https://www.zerotier.com/" target="_blank">ZeroTier</a> + <a href="https://www.virtualhere.com/" target="_blank">VirtualHere</a> to use any device on your Shadow seemlessly. Find more <a href="tweaks.html#usb">here</a>.
									</p>
								</div>
							</section>

							<section class="main" id="mouse">
								<div class="content">
									<header class="major">
										<h2>The mouse cursor disappear in Fullscreen mode</h2>
									</header>
									<p>
										The mouse cursor can disappear in Fullscreen mode. It is a known bug, but a workaround can be used. The goal is to enable mouse trace and put it as low as possible.
									</p>
									<p>
										Open the control panel, go in the Devices menu, then mouse, and click on the link on the right size "More options".<br>
										A new window opens and you can go in the "pointer option". Here, you can find the option "mouse trace". Enable this option, and set it as low as you can.
									</p>
								</div>
							</section>

							<section class="main" id="nvidia">
								<div class="content">
									<header class="major">
										<h2>The NVIDIA issue and workaround for Optimus</h2>
									</header>

									<p>
										The Shadow application on Linux uses the VA API (Video Acceleration API) which gives a set of tools to manipulate video streams. Recent NVIDIA graphics cards hardly support VA API because NVIDIA chose to use a proprietary codec called NVdecode (NVCuvid) and NVencode. More information about it over <a href="https://developer.nvidia.com/nvidia-video-codec-sdk" target="_blank">here</a>.
									</p>

									<p>
										A workaround for Optimus equiped PC would be to use the Intel GPU instead of the NVIDIA GPU. However, this mean having worst performance because the Intel GPU is obviously less powerful. But for Shadow, most of the time, it is sufficient to decode without any glitch of lag the video and audio stream.
									</p>

									<h3>The Optimus case</h3>

									<p>
										Optimus is a technology available on laptop where a NVIDIA and a Intel GPU are setup in the computer, working successively based on the workload. It gives a better power management for small tasks but provides the computing power stay high as for heavy tasks, the computer switches automatically to the NVIDIA GPU. So it means we can use Intel GPU instead of NVIDIA GPU if you have the sticker "NVIDIA Optimus".
									</p>

									<p>
										First things first, you need to install proprietary drivers. I let you find, based on your distribution (<a href="https://websiteforstudents.com/install-proprietary-nvidia-gpu-drivers-on-ubuntu-16-04-17-10-18-04/" target="_blank">Ubuntu</a>, <a href="https://wiki.archlinux.org/index.php/NVIDIA#Installation" target="_blank">Arch Linux</a>).
									</p>

									<p style="text-align: center;">
										<span class="image"><img src="images/nvidia_prime_profiles.png" alt="" style="width: 40em;" /></span>
									</p>

									<p>
										Now open the NVIDIA X Server Settings (an application available now in your app menu) and click on "Prime profiles". You can now choose the Intel GPU. It can take a while (3 min) when you change your GPU. When the confirmation window appears, log out and in again (or reboot to be sure). Now reopen the NVIDIA X Server Settings, and you should see less options, and in the Prime profiles, the Intel GPU should be selected.
									</p>

									<p>
										All you have to do now is to <a href="./#vainfo">configure your Intel GPU for the VA-API</a>.
									</p>

									<h3>NVIDIA discrete GPU</h3>

									<p>
										If you have only an NVIDIA GPU in your computer, you will need to patch your OS first to attempt to make the NVIDIA card work with Shadow.
										<br />
										Check out this link to learn more: <a href="https://gitlab.com/aar642/libva-vdpau-driver" target="_blank">https://gitlab.com/aar642/libva-vdpau-driver</a>
									</p>

									<p>
										After patching, all you have to do now is to <a href="./#vainfo">check the specs of your GPU with the VA-API</a>.
									</p>
								</div>
							</section>

							<section class="main" id="compositing">
								<div class="content">
									<header class="major">
										<h2>The application makes my environment jerky and all transparent component opaque</h2>
									</header>

									<p>
										When the stream starts, the application can kind of interfere with the transparent components. This is actually a feature asked a long time ago by the Linux community.
									</p>

									<p>
										The <a href="https://en.wikipedia.org/wiki/Compositing_window_manager#Linux" target="_blank">compositing</a> is a component that uses the GPU acceleration to bring some effects to the window manager. But you are playing a video game, it is not necessary to loose performance for effects you're not supposed to see. So, when an application uses intensively the GPU, the window manager stops the compositing, so the transparent effects.
									</p>

									<p>
										On KDE, it is pretty easy to avoid this effect. In the general configuration, in the section <code>Window management</code>, you add a <code>Window rule</code>. Click on <code>New</code>, and set the class of windows to <code>shadow</code>. Then go to the <code>Appearence and corrections</code> tab and at the bottom, you will find an option called <code>Block the compositing</code>. Check it, select <code>Force</code> and select <code>No</code>. Now restart your application and Voil√†!
									</p>
								</div>
							</section>

							<section class="main" id="drirc">
								<div class="content">
									<header class="major">
										<h2>The stream is colored or not sharp with an AMD card</h2>
									</header>
									<p>
										The AMD drivers may not be well configured for Shadow, especially about the bit range for the colors. A quick fix is to configure properly the drivers by executing the following command:
									</p>
									<p>
										<code>sudo curl https://gitlab.com/NicolasGuilloux/shadow-live-os/raw/arch-master/airootfs/etc/drirc -o /etc/drirc</code>
									</p>
									<p>
										<b>Be carefull!</b> This a <code>sudo</code> command, it is not harmless !
									</p>
								</div>
							</section>

							<section class="main" id="intel-init">
								<div class="content">
									<header class="major">
										<h2>The stream is half rendered or freezes the computer</h2>
									</header>
									<p>
										Some intel GPU requires a specific initialization. Shadow did a quick fix, but requires the name of your GPU card if it happens. Please execute the <code>vainfo</code> command and send the output to the support or the Discord.
									</p>
								</div>
							</section>

							<section class="main" id="sandbox">
								<div class="content">
									<header class="major">
										<h2>The application does not start at all</h2>
									</header>
									<p>
										Due to a <a href="" target="_blank">Debian bug</a>, the AppImage may not launch the application. To fix this quickly, start the application with the <code>--no-sandbox</code> parameter.
									</p>
									<p>
										Another solution to fix it during time is to let the user create a sandbox for the application. 2 ways of doing it:
									</p>
									<ul>
										<li><code>sudo sysctl -w kernel.unprivileged_userns_clone=1</code></li>
										<li><code>sudo sh -c 'echo "kernel.unprivileged_userns_clone=1" > /etc/sysctl.d/99-shadow.conf'</code></li>
									</ul>
									<p>
										<b>Be carefull!</b> These are <code>sudo</code> commands, they are not harmless !
									</p>
								</div>
							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<!--
							<p>
								<ul>
									<li><a href="https://discordapp.com/invite/shadowtech" target="_blank">Discord Shadow FR</a></li>
									<li><a href="https://discordapp.com/invite/shadowen" target="_blank">Discord Shadow EN</a></li>
									<li><a href="https://discordapp.com/invite/shadowde" target="_blank">Discord Shadow DE</a></li>
									<li><a href="https://discordapp.com/invite/KRafPYV" target="_blank">Discord Shadow US</a></li>
								</ul>
							</p>
						-->
						<p class="copyright">This website and its content is not linked with the Blade company. It was made by the community to the community.</p>
						<p class="copyright">Designed by Nicolas Guilloux. This is a <a href="https://html5up.net/" target="_blank">HTML5Up</a> template.</p>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<script src="assets/js/highlight.pack.js"></script>
			<script>
				var codes = document.getElementsByTagName('code');
				for(var i=0; i<codes.length; i++) {
					codes[i].className += ' bash';
				}
				hljs.initHighlightingOnLoad();
			</script>

	</body>
</html>
